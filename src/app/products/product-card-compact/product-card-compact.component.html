<mat-card class="product-card-compact" *ngIf="product">
  <div class="image-container">
    <div class="d-flex mt-1 mb-1 flex-row-reverse menu-icons">
      <div (click)="addToCollection(product)">
        <fa-icon [icon]="['fad', 'list-ul']"></fa-icon>
      </div>
      <div *ngIf="collectionItemQuantity$ | async as collectionItemQuantity">
        <div *ngIf="collectionItemQuantity > 0">
          <span
            [matBadge]="collectionItemQuantity"
            matBadgeSize="small"
            matBadgePosition="before"
            matBadgeOverlap="false"
          ></span>
        </div>
      </div>
    </div>
    <img [src]="product.mainImageUrl | image" class="center" />
  </div>
  <div class="product-title mt-3 mb-1 truncate">
    <a [routerLink]="['/products', product.productCode]">
      {{ product.name }}
    </a>
  </div>
  <div class="d-flex justify-content-between mt-1">
    <div class="theme-container">
      <img [src]="product.themeImageUrl | image" />
    </div>
    <div>
      <fa-icon [icon]="['fad', 'hashtag']"></fa-icon>{{ product.productCode }}
    </div>
  </div>
  <div class="d-flex justify-content-between mt-1">
    <div>
      <fa-icon [icon]="['fad', 'chimney']"></fa-icon>
      {{ product.piecesCount }}
    </div>
    <div>
      {{ product.price | currency: 'GBP' }}
    </div>
  </div>
</mat-card>
